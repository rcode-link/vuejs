_id: spc_16dffbfa551c485fad9b2a094e5c68de
type: ApiSpec
parentId: wrk_632fc0f16d2a423c885eb8d89f38cc22
modified: 1675365242708
created: 1675365242708
fileName: My Document
contents: '{"openapi":"3.0.0","info":{"version":"1.0.0","title":"Schoolify
  API"},"servers":[{"url":"http://api.dev-v2.schoolify.ee/api/v1","description":"local"}],"paths":{"/me":{"get":{"operationId":"get/user","tags":["auth"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"user
  profile
  data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeResponse"}}}}}},"post":{"operationId":"post/user-update","tags":["auth"],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeUpdateRequest"}}},"description":"Update
  some or all fields of user profile"},"responses":{"200":{"description":"user
  updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeUpdateResponse"}}}},"422":{"description":"Invalid
  input, update
  failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrors"}}}}}}},"/change-password":{"post":{"operationId":"post/user-change-password","tags":["auth"],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"description":"Change
  current user password"},"responses":{"200":{"description":"User password is
  update","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordResponse"}}}},"422":{"description":"Invalid
  input, change password
  failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrors"}}}}}}},"/register":{"post":{"operationId":"post/user_register","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"description":"user
  item to add"},"responses":{"200":{"description":"user
  created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"invalid
  input, object
  invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrors"}}}}}}},"/login":{"post":{"operationId":"post/user_login","tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginModel"}}}},"responses":{"200":{"description":"User
  logged
  in","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Authentication
  failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrors"}},"description":"invalid
  input, object
  invalid"}}}}},"/dashboard":{"$ref":"./dashboard.json#task_view"},"/live-class-group":{"$ref":"./live_class.json#live_class_group"},"/live-class-group/{id}":{"$ref":"./live_class.json#live_class_group_id"},"/live-class":{"$ref":"./live_class.json#live_class"},"/live-class/{id}":{"$ref":"./live_class.json#live_class_id"},"/live-class/join/{id}":{"$ref":"./live_class.json#live_class_join"},"/class/{id}":{"$ref":"./class.json#class_id"},"/class":{"$ref":"./class.json#class"},"/subject":{"$ref":"./subject.json#subject"},"/notifications":{"$ref":"./notifications.json#notifications"},"/notifications/{userid}":{"$ref":"./notifications.json#notifications_userid"},"/notifications/{id}":{"$ref":"./notifications.json#notifications_id"},"/grade":{"get":{"operationId":"get","tags":["grades"],"security":[{"bearerAuth":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"./admin/grades.json#/components/schemas/Grade"}}}}},"400":{"description":"Bad
  Request"}}}},"/chapter":{"$ref":"./chapter.json#chapter"},"/chapter/{id}":{"$ref":"./chapter.json#chapter_id"},"/assignment/{id}":{"$ref":"./assigment.json#study_id"},"/assignment/grade":{"$ref":"./assigment.json#assigment_grade"},"/assignment":{"$ref":"./assigment.json#study"},"/note":{"$ref":"./note.json#note"},"/note/{id}":{"$ref":"./note.json#note_id"},"/discussion/{id}":{"$ref":"./discussion.json#discussion_id"},"/discussion":{"$ref":"./discussion.json#discussion"},"/files":{"$ref":"./files.json#file_list"},"/files/{name}":{"$ref":"./files.json#file_by_name"},"/files-by-id/{id}":{"$ref":"./files.json#file_by_id"},"/upload":{"$ref":"./files.json#upload"}},"tags":["auth","class","subject","live-class","notifications"],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"LoginModel":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"ValidationErrors":{"type":"object","properties":{"PropName":{"type":"object","properties":{"message":{"type":"string"},"rule":{"type":"string"}}}}},"LoginResponse":{"type":"object","properties":{"data":{"type":"string"}}},"User":{"type":"object","properties":{"_id":{"type":"string"},"email":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"type":{"type":"string","enum":["teacher","student"]}}},"BaseResponse":{"type":"object","properties":{"data":{"type":"string","example":"ok"}}},"UserRegister":{"type":"object","required":["email","first_name","last_name","password","type"],"allOf":[{"$ref":"./definitions.json#/components/schemas/User"}],"properties":{"password":{"type":"string"}}},"TeacherInSubject":{"type":"object","allOf":[{"$ref":"./definitions.json#/components/schemas/User"}],"properties":{"headTeacher":{"type":"boolean"}}},"MeUpdateRequest":{"type":"object","properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"country_code":{"type":"string"},"phone_number":{"type":"string"},"area":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"street":{"type":"string"},"language":{"type":"string"},"avatar_url":{"type":"string"}}},"MeUpdateResponse":{"type":"object","properties":{"status":{"type":"string"}}},"MeResponse":{"type":"object","allOf":[{"$ref":"./definitions.json#/components/schemas/User"}],"properties":{"country_code":{"type":"string"},"phone_number":{"type":"string"},"area":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"street":{"type":"string"},"language":{"type":"string"},"avatar_url":{"type":"string"}}},"ChangePasswordRequest":{"type":"object","properties":{"current_password":{"type":"string"},"new_password":{"type":"string"},"confirm_password":{"type":"string"}}},"ChangePasswordResponse":{"type":"object","properties":{"status":{"type":"string"}}}}}}'
contentType: yaml
